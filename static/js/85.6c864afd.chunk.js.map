{"version":3,"file":"static/js/85.6c864afd.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/profile/profileInfo/ProfileInfo.module.css?df08","components/profile/profileInfo/ProfileStatusWithHooks.tsx","components/profile/profileInfo/ProfileInfo.tsx","webpack://samurai-way/./src/components/profile/myPosts/MyPosts.module.css?000b","webpack://samurai-way/./src/components/profile/myPosts/post/Post.module.css?fa80","components/profile/myPosts/post/Post.tsx","components/profile/myPosts/MyPosts.tsx","components/profile/myPosts/MyPostsContainer.tsx","components/profile/Profile.tsx","components/profile/Profile-Container.tsx","hoc/withAuthRedirect.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mainPhoto\":\"ProfileInfo_mainPhoto__v0CIa\",\"Avatar\":\"ProfileInfo_Avatar__4zIGS\",\"description-block\":\"ProfileInfo_description-block__CQOj9\"};","import React, {ChangeEvent, useEffect, useState} from 'react';\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks: React.FC<ProfileStatusType> = ({status, updateStatus}) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [statused, setStatused] = useState(status)\r\n\r\n    useEffect(() => {\r\n        setStatused(status)\r\n    }, [status]);\r\n\r\n    const activeEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactiveEditMode = () => {\r\n        setEditMode(false)\r\n        updateStatus(statused)\r\n    }\r\n\r\n    const onStatusChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatused(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activeEditMode}>{status || \"-----\"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChanged} value={statused} autoFocus={true} onBlur={deactiveEditMode}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport classes from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileUser} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileUser\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileInfo: React.FC<ProfileInfoType> = ({profile, status, updateStatus}) => {\r\n    if(!profile){\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img  className={classes.mainPhoto} src=\"https://eoimages.gsfc.nasa.gov/images/imagerecords/151000/151746/musselfarms_oli2_2023198_lrg.jpg\" alt=\"mainPhoto\"/>\r\n            </div>\r\n            <div className={classes.descriptionBlock}>\r\n                <img className={classes.Avatar}  src={profile.photos.small} alt=\"Photo Avatar\"/>\r\n            </div>\r\n            <div>\r\n                {profile.fullName}\r\n            </div>\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__Dfl6R\",\"posts\":\"MyPosts_posts__RsYtp\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__6S2UN\"};","import React from 'react';\r\nimport classes from './Post.module.css'\r\nimport {Post} from \"../../../../redux/state\";\r\n\r\ntype postPropsType ={\r\n    posts: Post\r\n}\r\n\r\nexport const Posts = (props: postPropsType) => {\r\n    return (\r\n            <div>\r\n                    <div className={classes.item}>\r\n                        <img src=\"https://avatars.mds.yandex.net/i?id=8b78f62b6881a9a7d405d3901af114ba_l-5288018-images-thumbs&n=13\" alt=\"\"/>\r\n                        {props.posts.message}\r\n                        <div>\r\n                            <span>like: {props.posts.likesCount}</span>\r\n                        </div>\r\n\r\n                    </div>\r\n            </div>\r\n    );\r\n};\r\n\r\n","import React, {memo} from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport {Posts} from \"./post/Post\";\r\nimport {ProfilePage} from \"../../../redux/profile-reducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormControls\";\r\n\r\ntype MyPostsProps = {\r\n    posts: ProfilePage\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nexport const MyPosts = memo( (props: MyPostsProps) => {\r\n    console.log(\"render\")\r\n    let postsElements = props.posts.posts.map(l =>\r\n        <Posts key={l.id} posts={l}/>\r\n    )\r\n\r\n    const addPost = (values: any) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\n\r\ntype AddNewPostFormType = {\r\n\r\n}\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nexport const AddNewPostForm: React.FC<InjectedFormProps<AddNewPostFormType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder='Post message' name={\"newPostText\"} component= {Textarea} validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm<AddNewPostFormType>({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\n\r\n","import {addPostActionCreator, ProfilePage} from \"../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {StoreType} from \"../../../redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n    posts: ProfilePage\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    addPost: (newPostText:string)=> void\r\n}\r\n\r\nconst mapStateToProps = (state: StoreType): MapStateToPropsType => {\r\n    return{\r\n        posts: state.profilePage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addPost: (newPostText:string)=>{\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect (mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\n","import React from 'react';\r\nimport {ProfileInfo} from \"./profileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./myPosts/MyPostsContainer\";\r\nimport {ProfileUser} from \"../../redux/profile-reducer\";\r\n\r\nexport type ProfileType = {\r\n    profile: ProfileUser\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const Profile = (props: ProfileType) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {StoreType} from \"../../redux/redux-store\";\r\nimport {\r\n    getUsersProfileThunk,\r\n    getUserStatus,\r\n    ProfilePage,\r\n    ProfileUser,updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileUser\r\n    status: string\r\n    authorizedUserId: number\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsersProfileThunk: (userId: number) => void\r\n    getUserStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\ntype PathParamsType = {\r\n    userId: number\r\n}\r\n\r\ntype PropsType = RouteComponentProps<any> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType, ProfilePage> {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if(!userId){\r\n            userId = this.props.authorizedUserId\r\n\r\n        }\r\n        this.props.getUsersProfileThunk(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatus}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: StoreType): MapStatePropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.data.id,\r\n        isAuth: state.auth.data.isAuth\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUsersProfileThunk, getUserStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer)\r\n\r\n","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {StoreType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype mapStateToPropsForRedirectType = {\r\n    isAuth: boolean\r\n}\r\nlet mapStateToPropsForRedirect = (state: StoreType): mapStateToPropsForRedirectType => ({\r\n    isAuth: state.auth.data.isAuth\r\n})\r\n\r\nexport function withAuthRedirect <T>(Component: ComponentType<T>) {\r\n    const RedirectComponent= (props: mapStateToPropsForRedirectType) => {\r\n        let {isAuth, ...restProps} = props\r\n            if(!isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...restProps as T} />;\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}"],"names":["ProfileStatusWithHooks","status","updateStatus","useState","editMode","setEditMode","statused","setStatused","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","ProfileInfo","profile","className","classes","src","alt","photos","small","fullName","Preloader","Posts","props","posts","message","likesCount","MyPosts","memo","console","log","postsElements","map","l","id","s","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","placeholder","name","component","Textarea","validate","required","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","getUsersProfileThunk","getUserStatus","React","compose","auth","data","isAuth","withRouter","withAuthRedirect","mapStateToPropsForRedirect","Component","restProps","to"],"sourceRoot":""}