"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[85],{8085:function(t,s,e){e.r(s),e.d(s,{default:function(){return U}});var n=e(5671),i=e(3144),r=e(136),a=e(5716),o=e(2791),u={mainPhoto:"ProfileInfo_mainPhoto__v0CIa",Avatar:"ProfileInfo_Avatar__4zIGS","description-block":"ProfileInfo_description-block__CQOj9"},d=e(4374),l=e(885),c=e(184),p=function(t){var s=t.status,e=t.updateStatus,n=(0,o.useState)(!1),i=(0,l.Z)(n,2),r=i[0],a=i[1],u=(0,o.useState)(s),d=(0,l.Z)(u,2),p=d[0],f=d[1];(0,o.useEffect)((function(){f(s)}),[s]);return(0,c.jsxs)("div",{children:[!r&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:function(){a(!0)},children:s||"-----"})}),r&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:function(t){f(t.currentTarget.value)},value:p,autoFocus:!0,onBlur:function(){a(!1),e(p)}})})]})},f=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:(0,c.jsx)("img",{className:u.mainPhoto,src:"https://eoimages.gsfc.nasa.gov/images/imagerecords/151000/151746/musselfarms_oli2_2023198_lrg.jpg",alt:"mainPhoto"})}),(0,c.jsx)("div",{className:u.descriptionBlock,children:(0,c.jsx)("img",{className:u.Avatar,src:s.photos.small,alt:"Photo Avatar"})}),(0,c.jsx)("div",{children:s.fullName}),(0,c.jsx)(p,{status:e,updateStatus:n})]}):(0,c.jsx)(d.p,{})},h=e(81),m="MyPosts_postsBlock__Dfl6R",j="MyPosts_posts__RsYtp",x="Post_item__6S2UN",v=function(t){return(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:x,children:[(0,c.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=8b78f62b6881a9a7d405d3901af114ba_l-5288018-images-thumbs&n=13",alt:""}),t.posts.message,(0,c.jsx)("div",{children:(0,c.jsxs)("span",{children:["like: ",t.posts.likesCount]})})]})})},g=e(6139),_=e(704),P=e(5298),S=e(5965),k=(0,o.memo)((function(t){console.log("render");var s=t.posts.posts.map((function(t){return(0,c.jsx)(v,{posts:t},t.id)}));return(0,c.jsxs)("div",{className:m,children:[(0,c.jsx)("h3",{children:"My posts"}),(0,c.jsx)(A,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,c.jsx)("div",{className:j,children:s})]})})),b=(0,P.D)(10),A=(0,_.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{children:(0,c.jsx)(g.Z,{placeholder:"Post message",name:"newPostText",component:S.gx,validate:[P.C,b]})}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{children:"Add post"})})]})})),N=e(8687),C=(0,N.$j)((function(t){return{posts:t.profilePage}}),(function(t){return{addPost:function(s){t((0,h.Wl)(s))}}}))(k),Z=function(t){return(0,c.jsxs)("div",{children:[(0,c.jsx)(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)(C,{})]})},y=e(9271),I=e(7781),w=e(2932),D=function(t){(0,r.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId),this.props.getUsersProfileThunk(t),this.props.getUserStatus(t)}},{key:"render",value:function(){return(0,c.jsx)("div",{children:(0,c.jsx)(Z,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(o.Component),U=(0,I.qC)((0,N.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.data.id,isAuth:t.auth.data.isAuth}}),{getUsersProfileThunk:h.sD,getUserStatus:h.Tq,updateStatus:h.Nf}),y.EN,w.D)(D)},2932:function(t,s,e){e.d(s,{D:function(){return l}});var n=e(1413),i=e(5987),r=(e(2791),e(9271)),a=e(8687),o=e(184),u=["isAuth"],d=function(t){return{isAuth:t.auth.data.isAuth}};function l(t){return(0,a.$j)(d)((function(s){var e=s.isAuth,a=(0,i.Z)(s,u);return e?(0,o.jsx)(t,(0,n.Z)({},a)):(0,o.jsx)(r.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=85.6c864afd.chunk.js.map