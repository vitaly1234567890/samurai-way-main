"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[499],{8499:function(s,e,t){t.r(e),t.d(e,{default:function(){return G}});var n=t(5671),i=t(3144),o=t(136),r=t(5716),a=t(2791),l=t(885),c={mainPhoto:"ProfileInfo_mainPhoto__v0CIa",Avatar:"ProfileInfo_Avatar__4zIGS","description-block":"ProfileInfo_description-block__CQOj9",contact:"ProfileInfo_contact__Lvxxp"},u=t(4374),d=t(184),h=function(s){var e=s.status,t=s.updateStatus,n=(0,a.useState)(!1),i=(0,l.Z)(n,2),o=i[0],r=i[1],c=(0,a.useState)(e),u=(0,l.Z)(c,2),h=u[0],f=u[1];(0,a.useEffect)((function(){f(e)}),[e]);return(0,d.jsxs)("div",{children:[!o&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Status"}),": ",(0,d.jsx)("span",{onDoubleClick:function(){r(!0)},children:e||"-----"})]}),o&&(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(s){f(s.currentTarget.value)},value:h,autoFocus:!0,onBlur:function(){r(!1),t(h)}})})]})},f=t(1169),p=t(5965),m=t(704),j=t(232),x=(0,m.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,n=s.error;return(0,d.jsxs)("form",{onSubmit:e,children:[(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Save"})}),n&&(0,d.jsx)("div",{className:j.Z.formSummaryError,children:n}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Full name"}),": ",(0,p.Gr)({component:p.II,name:"fullName",placeholder:"Full name",validate:[]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Looking for a job"}),":",(0,p.Gr)({component:p.II,name:"lookingForAJob",placeholder:"",validate:[],type:"checkbox"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"My professional skills"}),":",(0,p.Gr)({component:p.gx,name:"lookingForAJobDescription",placeholder:"My professional skills",validate:[]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"About me"}),":",(0,p.Gr)({component:p.gx,name:"aboutMe",placeholder:"About me",validate:[]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(s){return(0,d.jsx)("div",{className:c.contact,children:(0,d.jsxs)("b",{children:[s,": ",(0,p.Gr)({component:p.II,name:"contacts."+s,placeholder:s,validate:[]})]})},s)}))]})]})})),v=function(s){var e=s.profile,t=s.status,n=s.updateStatus,i=s.isOwner,o=s.savePhoto,r=s.saveProfile,p=(0,a.useState)(!1),m=(0,l.Z)(p,2),j=m[0],v=m[1];if(!e)return(0,d.jsx)(u.p,{});return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("img",{className:c.mainPhoto,src:"https://eoimages.gsfc.nasa.gov/images/imagerecords/151000/151746/musselfarms_oli2_2023198_lrg.jpg",alt:"mainPhoto"})}),(0,d.jsxs)("div",{className:c.descriptionBlock,children:[(0,d.jsx)("img",{className:c.Avatar,src:e.photos.small||f,alt:"Photo Avatar"}),i&&(0,d.jsx)("input",{type:"file",onChange:function(s){var e;null!==(e=s.target.files)&&void 0!==e&&e.length&&o(s.target.files[0])}}),j?(0,d.jsx)(x,{initialValues:e,profile:e,onSubmit:function(s){r(s).then((function(){v(!1)}))}}):(0,d.jsx)(b,{profile:e,isOwner:i,setEditMode:v}),(0,d.jsx)(h,{status:t,updateStatus:n})]})]})},b=function(s){var e=s.profile,t=s.isOwner,n=s.setEditMode;return(0,d.jsxs)("div",{children:[t&&(0,d.jsx)("div",{children:(0,d.jsx)("button",{onClick:function(){return n(!0)},children:"Edit"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Full name"}),": ",e.fullName]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(s){return(0,d.jsx)(P,{contactTitle:s,contactValue:e.contacts[s]},s)}))]})]})},P=function(s){var e=s.contactTitle,t=s.contactValue;return(0,d.jsxs)("div",{className:c.contact,children:[(0,d.jsx)("b",{children:e}),": ",t]})},g=t(81),k="MyPosts_postsBlock__Dfl6R",_="MyPosts_posts__RsYtp",S="Post_item__6S2UN",y=function(s){return(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:S,children:[(0,d.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=8b78f62b6881a9a7d405d3901af114ba_l-5288018-images-thumbs&n=13",alt:""}),s.posts.message,(0,d.jsx)("div",{children:(0,d.jsxs)("span",{children:["like: ",s.posts.likesCount]})})]})})},A=t(6139),I=t(5298),N=(0,a.memo)((function(s){var e=s.posts.posts.map((function(s){return(0,d.jsx)(y,{posts:s},s.id)}));return(0,d.jsxs)("div",{className:k,children:[(0,d.jsx)("h3",{children:"My posts"}),(0,d.jsx)(w,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,d.jsx)("div",{className:_,children:e})]})})),C=(0,I.D)(10),w=(0,m.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,d.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(A.Z,{placeholder:"Post message",name:"newPostText",component:p.gx,validate:[I.C,C]})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Add post"})})]})})),Z=t(8687),M=(0,Z.$j)((function(s){return{posts:s.profilePage}}),(function(s){return{addPost:function(e){s((0,g.Wl)(e))}}}))(N),D="Profile_main__bzbeL",F=function(s){return(0,d.jsxs)("div",{className:D,children:[(0,d.jsx)(v,{profile:s.profile,status:s.status,updateStatus:s.updateStatus,isOwner:s.isOwner,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,d.jsx)(M,{})]})},O=t(9271),T=t(7781),U=t(2932),E=function(s){(0,o.Z)(t,s);var e=(0,r.Z)(t);function t(){return(0,n.Z)(this,t),e.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId),this.props.getUsersProfileThunk(s),this.props.getUserStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,d.jsx)("div",{children:(0,d.jsx)(F,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile})})}}]),t}(a.Component),G=(0,T.qC)((0,Z.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.data.id,isAuth:s.auth.data.isAuth}}),{getUsersProfileThunk:g.sD,getUserStatus:g.Tq,updateStatus:g.Nf,savePhoto:g.Ju,saveProfile:g.Ii}),O.EN,U.D)(E)},2932:function(s,e,t){t.d(e,{D:function(){return u}});var n=t(1413),i=t(5987),o=(t(2791),t(9271)),r=t(8687),a=t(184),l=["isAuth"],c=function(s){return{isAuth:s.auth.data.isAuth}};function u(s){return(0,r.$j)(c)((function(e){var t=e.isAuth,r=(0,i.Z)(e,l);return t?(0,a.jsx)(s,(0,n.Z)({},r)):(0,a.jsx)(o.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=499.29ac74b8.chunk.js.map