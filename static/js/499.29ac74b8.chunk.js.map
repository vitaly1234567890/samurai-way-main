{"version":3,"file":"static/js/499.29ac74b8.chunk.js","mappings":"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","sources":["webpack://samurai-way/./src/components/profile/profileInfo/ProfileInfo.module.css?df08","components/profile/profileInfo/ProfileStatusWithHooks.tsx","components/profile/profileInfo/ProfileDataForm.tsx","components/profile/profileInfo/ProfileInfo.tsx","webpack://samurai-way/./src/components/profile/myPosts/MyPosts.module.css?000b","webpack://samurai-way/./src/components/profile/myPosts/post/Post.module.css?fa80","components/profile/myPosts/post/Post.tsx","components/profile/myPosts/MyPosts.tsx","components/profile/myPosts/MyPostsContainer.tsx","webpack://samurai-way/./src/components/profile/Profile.module.css?5246","components/profile/Profile.tsx","components/profile/Profile-Container.tsx","hoc/withAuthRedirect.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"mainPhoto\":\"ProfileInfo_mainPhoto__v0CIa\",\"Avatar\":\"ProfileInfo_Avatar__4zIGS\",\"description-block\":\"ProfileInfo_description-block__CQOj9\",\"contact\":\"ProfileInfo_contact__Lvxxp\"};","import React, {ChangeEvent, useEffect, useState} from 'react';\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks: React.FC<ProfileStatusType> = ({status, updateStatus}) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [statused, setStatused] = useState(status)\r\n\r\n    useEffect(() => {\r\n        setStatused(status)\r\n    }, [status]);\r\n\r\n    const activeEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactiveEditMode = () => {\r\n        setEditMode(false)\r\n        updateStatus(statused)\r\n    }\r\n\r\n    const onStatusChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatused(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <b>Status</b>: <span onDoubleClick={activeEditMode}>{status || \"-----\"}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChanged} value={statused} autoFocus={true} onBlur={deactiveEditMode}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormControls\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {ProfileUser} from \"../../../redux/profile-reducer\";\r\nimport classes from './ProfileInfo.module.css'\r\nimport styles from \"../../common/FormsControls/FormControls.module.css\"\r\n\r\n\r\ntype PropsProfileDataForm = {\r\n    onSubmit: any\r\n    profile: ProfileUser\r\n}\r\n\r\nconst ProfileDataForm: React.FC<PropsProfileDataForm & InjectedFormProps<{}, PropsProfileDataForm>> =\r\n    ({\r\n         handleSubmit, profile, error\r\n     }) => {\r\n        return (\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    <button>Save</button>\r\n                </div>\r\n\r\n                {error && <div className={styles.formSummaryError}>\r\n                    {error}\r\n                </div>}\r\n\r\n                <div>\r\n                    <b>Full name</b>: {createField({\r\n                    component: Input, name: 'fullName', placeholder: 'Full name', validate: []\r\n                })}\r\n                </div>\r\n                <div>\r\n                    <b>Looking for a job</b>:\r\n                    {createField({\r\n                        component: Input,\r\n                        name: 'lookingForAJob',\r\n                        placeholder: '',\r\n                        validate: [],\r\n                        type: \"checkbox\"\r\n                    })}\r\n                </div>\r\n                <div>\r\n                    <b>My professional skills</b>:\r\n                    {createField({\r\n                        component: Textarea,\r\n                        name: 'lookingForAJobDescription',\r\n                        placeholder: 'My professional skills',\r\n                        validate: []\r\n                    })}\r\n                </div>\r\n                <div>\r\n                    <b>About me</b>:\r\n                    {createField({\r\n                        component: Textarea,\r\n                        name: 'aboutMe',\r\n                        placeholder: 'About me',\r\n                        validate: []\r\n                    })}\r\n                </div>\r\n                <div>\r\n                    <b>Contacts</b>: {Object.keys(profile.contacts).map(k => {\r\n                    return <div key={k} className={classes.contact}>\r\n                        <b>{k}: {createField({\r\n                            component: Input, name: 'contacts.' + k, placeholder: k, validate: []\r\n                        })}</b>\r\n                    </div>\r\n                })}\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<{}, PropsProfileDataForm>({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm","import React, {ChangeEvent, useState} from 'react';\r\nimport classes from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport {ProfileUser} from \"../../../redux/profile-reducer\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/image.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\nexport type FormDataType = {\r\n    login: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileUser\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: any) => void\r\n    saveProfile: any\r\n}\r\n\r\nexport const ProfileInfo: React.FC<ProfileInfoType> = ({\r\n                                                           profile,\r\n                                                           status,\r\n                                                           updateStatus,\r\n                                                           isOwner,\r\n                                                           savePhoto,\r\n                                                           saveProfile\r\n                                                       }) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files?.length) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: ProfileUser) => {\r\n        saveProfile(formData).then(()=> {\r\n            setEditMode(false)\r\n        })\r\n\r\n    }\r\n\r\n    return <div>\r\n        <div>\r\n            <img className={classes.mainPhoto}\r\n                 src=\"https://eoimages.gsfc.nasa.gov/images/imagerecords/151000/151746/musselfarms_oli2_2023198_lrg.jpg\"\r\n                 alt=\"mainPhoto\"/>\r\n        </div>\r\n        <div className={classes.descriptionBlock}>\r\n            <img className={classes.Avatar} src={profile.photos.small || userPhoto} alt=\"Photo Avatar\"/>\r\n            {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\r\n            {editMode ? <ProfileDataForm initialValues={profile} profile={profile} onSubmit={onSubmit}/> :\r\n                <ProfileData profile={profile} isOwner={isOwner} setEditMode={setEditMode}/>}\r\n\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\r\n        </div>\r\n    </div>\r\n};\r\n\r\ntype PropsProfileData = {\r\n    profile: ProfileUser\r\n    isOwner: boolean\r\n    setEditMode: React.Dispatch<React.SetStateAction<boolean>>\r\n}\r\n\r\nexport const ProfileData = ({profile, isOwner, setEditMode}: PropsProfileData) => {\r\n    return (\r\n        <div>\r\n            {isOwner && <div>\r\n                <button onClick={() => setEditMode(true)}>Edit</button>\r\n            </div>}\r\n            <div>\r\n                <b>Full name</b>: {profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job</b>: {profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n            {profile.lookingForAJob && <div>\r\n                <b>My professional skills</b>: {profile.lookingForAJobDescription}\r\n            </div>}\r\n            <div>\r\n                <b>About me</b>: {profile.aboutMe}\r\n            </div>\r\n            <div>\r\n                <b>Contacts</b>: {Object.keys(profile.contacts).map(k => {\r\n                return <Contact key={k} contactTitle={k} contactValue={profile.contacts[k]}/>\r\n            })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\ntype Props = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\nexport const Contact = ({contactTitle, contactValue}: Props) => {\r\n    return <div className={classes.contact}><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__Dfl6R\",\"posts\":\"MyPosts_posts__RsYtp\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__6S2UN\"};","import React from 'react';\r\nimport classes from './Post.module.css'\r\nimport {Post} from \"../../../../redux/state\";\r\n\r\ntype postPropsType ={\r\n    posts: Post\r\n}\r\n\r\nexport const Posts = (props: postPropsType) => {\r\n    return (\r\n            <div>\r\n                    <div className={classes.item}>\r\n                        <img src=\"https://avatars.mds.yandex.net/i?id=8b78f62b6881a9a7d405d3901af114ba_l-5288018-images-thumbs&n=13\" alt=\"\"/>\r\n                        {props.posts.message}\r\n                        <div>\r\n                            <span>like: {props.posts.likesCount}</span>\r\n                        </div>\r\n\r\n                    </div>\r\n            </div>\r\n    );\r\n};\r\n\r\n","import React, {memo} from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport {Posts} from \"./post/Post\";\r\nimport {ProfilePage} from \"../../../redux/profile-reducer\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormControls\";\r\n\r\ntype MyPostsProps = {\r\n    posts: ProfilePage\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\nexport const MyPosts = memo( (props: MyPostsProps) => {\r\n    let postsElements = props.posts.posts.map(l =>\r\n        <Posts key={l.id} posts={l}/>\r\n    )\r\n\r\n    const addPost = (values: any) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\n\r\ntype AddNewPostFormType = {\r\n\r\n}\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nexport const AddNewPostForm: React.FC<InjectedFormProps<AddNewPostFormType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder='Post message' name={\"newPostText\"} component= {Textarea} validate={[required, maxLength10]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst AddNewPostFormRedux = reduxForm<AddNewPostFormType>({form: \"ProfileAddNewPostForm\"})(AddNewPostForm)\r\n\r\n","import {addPostActionCreator, ProfilePage} from \"../../../redux/profile-reducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {Dispatch} from \"redux\";\r\nimport {StoreType} from \"../../../redux/redux-store\";\r\n\r\ntype MapStateToPropsType = {\r\n    posts: ProfilePage\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    addPost: (newPostText:string)=> void\r\n}\r\n\r\nconst mapStateToProps = (state: StoreType): MapStateToPropsType => {\r\n    return{\r\n        posts: state.profilePage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch): MapDispatchToPropsType => {\r\n    return {\r\n        addPost: (newPostText:string)=>{\r\n            dispatch(addPostActionCreator(newPostText))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect (mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"mainPhoto\":\"Profile_mainPhoto__yBWm+\",\"Avatar\":\"Profile_Avatar__Jx0tM\",\"main\":\"Profile_main__bzbeL\"};","import React from 'react';\r\nimport {ProfileInfo} from \"./profileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./myPosts/MyPostsContainer\";\r\nimport {ProfileUser} from \"../../redux/profile-reducer\";\r\nimport classes from \"./Profile.module.css\";\r\n\r\nexport type ProfileType = {\r\n    profile: ProfileUser\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: string) => void\r\n    saveProfile: (profile: ProfileUser) => void\r\n}\r\n\r\nexport const Profile = (props: ProfileType) => {\r\n\r\n    return (\r\n        <div className={classes.main}>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}\r\n                         isOwner={props.isOwner} savePhoto={props.savePhoto} saveProfile={props.saveProfile}/>\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n};\r\n\r\n","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {StoreType} from \"../../redux/redux-store\";\r\nimport {\r\n    getUsersProfileThunk,\r\n    getUserStatus,\r\n    ProfilePage,\r\n    ProfileUser, savePhoto, saveProfile, updateStatus\r\n} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileUser\r\n    status: string\r\n    authorizedUserId: number\r\n    isAuth: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsersProfileThunk: (userId: number) => void\r\n    getUserStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: string) => void\r\n    saveProfile: (profile: ProfileUser) => void\r\n}\r\n\r\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\ntype PropsType = RouteComponentProps<any> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType, ProfilePage> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n        }\r\n        this.props.getUsersProfileThunk(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<ProfilePage>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId)\r\n            this.refreshProfile()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Profile profile={this.props.profile}\r\n                         status={this.props.status}\r\n                         updateStatus={this.props.updateStatus}\r\n                         isOwner={!this.props.match.params.userId}\r\n                         savePhoto={this.props.savePhoto}\r\n                         saveProfile={this.props.saveProfile}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: StoreType): MapStatePropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.data.id,\r\n        isAuth: state.auth.data.isAuth\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUsersProfileThunk, getUserStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer)\r\n\r\n","import React, {ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {StoreType} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype mapStateToPropsForRedirectType = {\r\n    isAuth: boolean\r\n}\r\nlet mapStateToPropsForRedirect = (state: StoreType): mapStateToPropsForRedirectType => ({\r\n    isAuth: state.auth.data.isAuth\r\n})\r\n\r\nexport function withAuthRedirect <T>(Component: ComponentType<T>) {\r\n    const RedirectComponent= (props: mapStateToPropsForRedirectType) => {\r\n        let {isAuth, ...restProps} = props\r\n            if(!isAuth) return <Redirect to={\"/login\"} />\r\n            return <Component {...restProps as T} />;\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}"],"names":["ProfileStatusWithHooks","status","updateStatus","useState","editMode","setEditMode","statused","setStatused","useEffect","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","reduxForm","form","handleSubmit","profile","error","onSubmit","className","styles","createField","component","Input","name","placeholder","validate","type","Textarea","Object","keys","contacts","map","k","classes","ProfileInfo","isOwner","savePhoto","saveProfile","Preloader","src","alt","photos","small","userPhoto","target","files","length","initialValues","formData","then","ProfileData","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Contact","contactTitle","contactValue","Posts","props","posts","message","likesCount","MyPosts","memo","postsElements","l","id","s","AddNewPostFormRedux","values","addPost","newPostText","maxLength10","maxLengthCreator","Field","required","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","getUsersProfileThunk","getUserStatus","refreshProfile","prevProps","prevState","snapshot","React","compose","auth","data","isAuth","withRouter","withAuthRedirect","mapStateToPropsForRedirect","Component","restProps","to"],"sourceRoot":""}